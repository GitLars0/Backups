@page
@model Lab3.Pages.CartModel
@{
	ViewData["Title"] = "Shopping cart";
}

<div class="text-center mt-4">

	<h1 class="display-4 mt-5">Your cart</h1>
	<div class="text-left">
		@if (Model.Cart is null)
		{
			<p>There is nothing in your cart</p>
		}
		else
		{
			<table class="table">
				<thead>
					<tr>
						<th scope="col">Dish</th>
						<th scope="col">Count</th>
						<th scope="col">Price</th>
						<th scope="col">Sum</th>
					</tr>
				</thead>
				<tbody>

					@foreach (var item in Model.Cart.Items)
					{
						<tr>
							<th scope="row">@item.Name</th>
							<td>@item.Count</td>
							<td>@item.Price</td>
							<td>@item.Sum</td>
						</tr>
					}
				</tbody>
			</table>
			<button id="confirmOrderBtn" onclick="showCustomerForm()">Confirm Order</button>

			<div id="customerForm" style="display: none; margin-top: 20px;">
				<h3>Enter your details to complete the order</h3>
				<form method="post">
					<div class="form-group">
						<label for="customerName">Name:</label>
						<input type="text" id="customerName" name="customerName" required/>
					</div>
					
					<div class="form-group">
						<label for="Building">Building:</label>
						<input type="text" id="Building" name="Building" required/>
					</div>

					<div class="form-group">
						<label for="RoomNumber">RoomNumber:</label>
						<input type="text" id="RoomNumber" name="RoomNumber" required />
					</div>
					
					<div class="form-group">
						<label for="LocationNotes">Notes:</label>
						<input type="text" id="LocationNotes" name="LocationNotes"/>
					</div>
					

					<button type="submit">Confirm Order</button>
				
				</form>
			</div>
		}
	</div>
</div>
<script>
	function showCustomerForm(){
		document.getElementById("customerForm").style.display = "block";
	}
</script>